<div class="container padded">
    <div>
        <div *ngIf="user?.isAdmin" style="float: right"><button mat-raised-button color="primary" (click)="openNewPlayerDialog()">+ New Player</button></div>
        <h2>Players</h2>
    </div>

    <table mat-table [dataSource]="players" class="mat-elevation-z2" style="width: 100%">
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> </th>
            <td mat-cell *matCellDef="let player"> {{ player.name }} </td>
        </ng-container>

        <ng-container matColumnDef="gamesPlayed">
            <th mat-header-cell *matHeaderCellDef> Games<br />Played </th>
            <td mat-cell *matCellDef="let player"> {{ player.gamesPlayed }} </td>
        </ng-container>

        <ng-container matColumnDef="boughtIn">
            <th mat-header-cell *matHeaderCellDef> Bought<br />In </th>
            <td mat-cell *matCellDef="let player"> {{ player.boughtIn | currency:'USD' }} </td>
        </ng-container>

        <ng-container matColumnDef="cashedOut">
            <th mat-header-cell *matHeaderCellDef> Cashed<br />Out </th>
            <td mat-cell *matCellDef="let player"> {{ player.cashedOut | currency:'USD' }} </td>
        </ng-container>

        <ng-container matColumnDef="profit">
            <th mat-header-cell *matHeaderCellDef> Profit </th>
            <td mat-cell *matCellDef="let player"> {{ (player.cashedOut - player.boughtIn) | currency:'USD' }} </td>
        </ng-container>

        <ng-container matColumnDef="avgProfit">
            <th mat-header-cell *matHeaderCellDef> Avg Profit </th>
            <td mat-cell *matCellDef="let player"> {{ player.avgProfit || 0 | currency:'USD' }} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</div>